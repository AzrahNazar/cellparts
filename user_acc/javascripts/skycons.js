var Skycons;!function(t){"use strict";function n(t,n,i,a){t.beginPath(),t.arc(n,i,a,0,y,!1),t.fill()}function i(t,n,i,a,e){t.beginPath(),t.moveTo(n,i),t.lineTo(a,e),t.stroke()}function a(t,i,a,e,o,r,s,l){var h=Math.cos(i*y),c=Math.sin(i*y);l-=s,n(t,a-c*o,e+h*r+.5*l,s+(1-.5*h)*l)}function e(t,n,i,e,o,r,s,l){var h;for(h=5;h--;)a(t,n+h/5,i,e,o,r,s,l)}function o(t,n,i,a,o,r,s){n/=3e4;var l=.21*o,h=.12*o,c=.24*o,u=.28*o;t.fillStyle=s,e(t,n,i,a,l,h,c,u),t.globalCompositeOperation="destination-out",e(t,n,i,a,l,h,c-r,u-r),t.globalCompositeOperation="source-over"}function r(t,n,a,e,o,r,s){n/=12e4;var l,h,c,u,v=.25*o-.5*r,f=.32*o+.5*r,d=.5*o-.5*r;for(t.strokeStyle=s,t.lineWidth=r,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(a,e,v,0,y,!1),t.stroke(),l=8;l--;)h=(n+l/8)*y,c=Math.cos(h),u=Math.sin(h),i(t,a+c*f,e+u*f,a+c*d,e+u*d)}function s(t,n,i,a,e,o,r){n/=15e3;var s=.29*e-.5*o,l=.05*e,h=Math.cos(n*y),c=h*y/-16;t.strokeStyle=r,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",i+=h*l,t.beginPath(),t.arc(i,a,s,c+y/8,c+7*y/8,!1),t.arc(i+Math.cos(c)*s*k,a+Math.sin(c)*s*k,s,c+5*y/8,c+3*y/8,!0),t.closePath(),t.stroke()}function l(t,n,i,a,e,o,r){n/=1350;var s,l,h,c,u=.16*e,v=11*y/12,f=7*y/12;for(t.fillStyle=r,s=4;s--;)l=(n+s/4)%1,h=i+(s-1.5)/1.5*(1===s||2===s?-1:1)*u,c=a+l*l*e,t.beginPath(),t.moveTo(h,c-1.5*o),t.arc(h,c,.75*o,v,f,!1),t.fill()}function h(t,n,a,e,o,r,s){n/=750;var l,h,c,u,v=.1875*o;for(t.strokeStyle=s,t.lineWidth=.5*r,t.lineCap="round",t.lineJoin="round",l=4;l--;)h=(n+l/4)%1,c=Math.floor(a+(l-1.5)/1.5*(1===l||2===l?-1:1)*v)+.5,u=e+h*o,i(t,c,u-1.5*r,c,u+1.5*r)}function c(t,n,a,e,o,r,s){n/=3e3;var l,h,c,u,v=.16*o,f=.75*r,d=.7*n*y,m=Math.cos(d)*f,g=Math.sin(d)*f,M=d+y/3,k=Math.cos(M)*f,p=Math.sin(M)*f,C=d+2*y/3,S=Math.cos(C)*f,w=Math.sin(C)*f;for(t.strokeStyle=s,t.lineWidth=.5*r,t.lineCap="round",t.lineJoin="round",l=4;l--;)h=(n+l/4)%1,c=a+Math.sin((h+l/4)*y)*v,u=e+h*o,i(t,c-m,u-g,c+m,u+g),i(t,c-k,u-p,c+k,u+p),i(t,c-S,u-w,c+S,u+w)}function u(t,n,i,a,o,r,s){n/=3e4;var l=.21*o,h=.06*o,c=.21*o,u=.28*o;t.fillStyle=s,e(t,n,i,a,l,h,c,u),t.globalCompositeOperation="destination-out",e(t,n,i,a,l,h,c-r,u-r),t.globalCompositeOperation="source-over"}function v(t,n,i,a,e,o,r){var s=e/8,l=s/3,h=2*l,c=n%1*y,u=Math.cos(c),v=Math.sin(c);t.fillStyle=r,t.strokeStyle=r,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(i,a,s,c,c+Math.PI,!1),t.arc(i-l*u,a-l*v,h,c+Math.PI,c,!1),t.arc(i+h*u,a+h*v,l,c+Math.PI,c,!0),t.globalCompositeOperation="destination-out",t.fill(),t.globalCompositeOperation="source-over",t.stroke()}function f(t,n,i,a,e,o,r,s,l){n/=2500;var h,c,u,f,d=p[r],m=(n+r-C[r].start)%s,g=(n+r-C[r].end)%s,M=(n+r)%s;if(t.strokeStyle=l,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",1>m){if(t.beginPath(),m*=d.length/2-1,h=Math.floor(m),m-=h,h*=2,h+=2,t.moveTo(i+(d[h-2]*(1-m)+d[h]*m)*e,a+(d[h-1]*(1-m)+d[h+1]*m)*e),1>g){for(g*=d.length/2-1,c=Math.floor(g),g-=c,c*=2,c+=2,f=h;f!==c;f+=2)t.lineTo(i+d[f]*e,a+d[f+1]*e);t.lineTo(i+(d[c-2]*(1-g)+d[c]*g)*e,a+(d[c-1]*(1-g)+d[c+1]*g)*e)}else for(f=h;f!==d.length;f+=2)t.lineTo(i+d[f]*e,a+d[f+1]*e);t.stroke()}else if(1>g){for(t.beginPath(),g*=d.length/2-1,c=Math.floor(g),g-=c,c*=2,c+=2,t.moveTo(i+d[0]*e,a+d[1]*e),f=2;f!==c;f+=2)t.lineTo(i+d[f]*e,a+d[f+1]*e);t.lineTo(i+(d[c-2]*(1-g)+d[c]*g)*e,a+(d[c-1]*(1-g)+d[c+1]*g)*e),t.stroke()}1>M&&(M*=d.length/2-1,u=Math.floor(M),M-=u,u*=2,u+=2,v(t,n,i+(d[u-2]*(1-M)+d[u]*M)*e,a+(d[u-1]*(1-M)+d[u+1]*M)*e,e,o,l))}var d,m;!function(){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame;n&&i?(d=function(t){function i(){a.value=n(i),t()}var a={value:null};return i(),a},m=function(t){i(t.value)}):(d=setInterval,m=clearInterval)}();var g=500,M=.08,y=2*Math.PI,k=2/Math.sqrt(2),p=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],C=[{start:.36,end:.11},{start:.56,end:.16}];Skycons=function(t){this.list=[],this.interval=null,this.color=t&&t.color?t.color:"black",this.resizeClear=!(!t||!t.resizeClear)},Skycons.CLEAR_DAY=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,o=Math.min(a,e);r(t,n,.5*a,.5*e,o,o*M,i)},Skycons.CLEAR_NIGHT=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,o=Math.min(a,e);s(t,n,.5*a,.5*e,o,o*M,i)},Skycons.PARTLY_CLOUDY_DAY=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,s=Math.min(a,e);r(t,n,.625*a,.375*e,.75*s,s*M,i),o(t,n,.375*a,.625*e,.75*s,s*M,i)},Skycons.PARTLY_CLOUDY_NIGHT=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,r=Math.min(a,e);s(t,n,.667*a,.375*e,.75*r,r*M,i),o(t,n,.375*a,.625*e,.75*r,r*M,i)},Skycons.CLOUDY=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,r=Math.min(a,e);o(t,n,.5*a,.5*e,r,r*M,i)},Skycons.RAIN=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,r=Math.min(a,e);l(t,n,.5*a,.37*e,.9*r,r*M,i),o(t,n,.5*a,.37*e,.9*r,r*M,i)},Skycons.SLEET=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,r=Math.min(a,e);h(t,n,.5*a,.37*e,.9*r,r*M,i),o(t,n,.5*a,.37*e,.9*r,r*M,i)},Skycons.SNOW=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,r=Math.min(a,e);c(t,n,.5*a,.37*e,.9*r,r*M,i),o(t,n,.5*a,.37*e,.9*r,r*M,i)},Skycons.WIND=function(t,n,i){var a=t.canvas.width,e=t.canvas.height,o=Math.min(a,e);f(t,n,.5*a,.5*e,o,o*M,0,2,i),f(t,n,.5*a,.5*e,o,o*M,1,2,i)},Skycons.FOG=function(t,n,a){var e=t.canvas.width,o=t.canvas.height,r=Math.min(e,o),s=r*M;u(t,n,.5*e,.32*o,.75*r,s,a),n/=5e3;var l=.02*Math.cos(n*y)*r,h=.02*Math.cos((n+.25)*y)*r,c=.02*Math.cos((n+.5)*y)*r,v=.02*Math.cos((n+.75)*y)*r,f=.936*o,d=Math.floor(f-.5*s)+.5,m=Math.floor(f-2.5*s)+.5;t.strokeStyle=a,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",i(t,l+.2*e+.5*s,d,h+.8*e-.5*s,d),i(t,c+.2*e+.5*s,m,v+.8*e-.5*s,m)},Skycons.prototype={add:function(t,n){var i;"string"==typeof t&&(t=document.getElementById(t)),i={element:t,context:t.getContext("2d"),drawing:n},this.list.push(i),this.draw(i,g)},set:function(t,n){var i;for("string"==typeof t&&(t=document.getElementById(t)),i=this.list.length;i--;)if(this.list[i].element===t)return this.list[i].drawing=n,this.draw(this.list[i],g),void 0;this.add(t,n)},remove:function(t){var n;for("string"==typeof t&&(t=document.getElementById(t)),n=this.list.length;n--;)if(this.list[n].element===t)return this.list.splice(n,1),void 0},draw:function(t,n){var i=t.context.canvas;this.resizeClear?i.width=i.width:t.context.clearRect(0,0,i.width,i.height),t.drawing(t.context,n,this.color)},play:function(){var t=this;this.pause(),this.interval=d(function(){var n,i=Date.now();for(n=t.list.length;n--;)t.draw(t.list[n],i)},1e3/60)},pause:function(){this.interval&&(m(this.interval),this.interval=null)}}}(this);